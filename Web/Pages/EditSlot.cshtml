@page "{id:int?}"
@model Web.Pages.SlotModel
@{
    ViewData["Title"] = "Edit Slot";
}

<h2>Edit Slot</h2>

<form method="post">
    <div class="form-group">
        <label for="Slot Id">Slot Id</label>
        <input type="number" id="Slot Id" asp-for="Slot.SlotId" class="form-control" required />
        <span asp-validation-for="Slot.SlotId" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label for="Locality">Locality</label>
        <select id="Locality" asp-for="Slot.Locality" class="form-control" required>
            <option value="" disabled selected>Select a locality</option>
            <option value="Gulshan Area">Gulshan Area</option>
            <option value="Dhanmondi">Dhanmondi</option>
            <option value="Mirpur">Mirpur</option>
            <option value="Badda">Badda</option>
            <option value="Motijheel">Motijheel</option>
            <option value="Banani">Banani</option>
        </select>
        <span asp-validation-for="Slot.Locality" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label for="Name">Name</label>
        <input type="text" id="Name" asp-for="Slot.Name" class="form-control" required />
        <span asp-validation-for="Slot.Name" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label for="LatestPrice">LatestPrice</label>
        <input type="number" id="Latest Price" asp-for="Slot.LatestPrice" class="form-control" required />
        <span asp-validation-for="Slot.LatestPrice" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label for="IsBooked">Is Booked Slot?</label>
        <input type="checkbox" id="IsBooked" asp-for="Slot.IsBooked" class="form-check-input" />
        <span asp-validation-for="Slot.IsBooked" class="text-danger"></span>
    </div>
    <!-- Add other fields similarly -->

    <button type="submit" asp-page-handler="Update" class="btn btn-success">Save Changes</button>
    <a asp-page="/Slot" class="btn btn-secondary">Cancel</a>
</form>
<script>
    function filterSlots() {
        const searchInput = document.getElementById("search").value.toLowerCase();
        const rows = document.querySelectorAll("#slotTableBody tr");

        rows.forEach(row => {
            const slotId = row.querySelector("td:nth-child(1)")?.textContent.toLowerCase() || "";
            const locality = row.querySelector("td:nth-child(2)")?.textContent.toLowerCase() || "";
            const name = row.querySelector("td:nth-child(3)")?.textContent.toLowerCase() || "";
            const latestPrice = row.querySelector("td:nth-child(4)")?.textContent.toLowerCase() || "";

            if (
                slotId.includes(searchInput) ||
                locality.includes(searchInput) ||
                name.includes(searchInput) ||
                latestPrice.includes(searchInput)
            ) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        });
    }
</script>
